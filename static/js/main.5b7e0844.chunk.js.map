{"version":3,"sources":["components/ControlGroup/ControlGroup.module.css","app/App.module.css","components/CustomLoader/CustomLoader.module.css","components/Controls/Controls.module.css","assets/textures/tex1.jpg","assets/textures/tex2.jpg","assets/textures/tex3.jpg","assets/textures/tex4.jpg","assets/textures/tex5.jpg","assets/models/skate.glb","assets/textures/metalMap.png","assets/textures/normalMap.png","constants/types.ts","store/slices/settingsSlice.ts","constants/constants.ts","components/ControlGroup/ControlGroup.tsx","components/Controls/Controls.tsx","components/Skate/Skate.tsx","components/Scene.tsx","components/CustomLoader/CustomLoader.tsx","app/App.tsx","reportWebVitals.js","store/store.ts","index.tsx"],"names":["module","exports","colorsContainer","texturesContainer","openBtn","openBtnActive","controlItem","closedContainer","header","mainTitle","mainContainer","footer","canvasContainer","tipBox","loaderContainer","loaderBody","pl","pl__ring","pl__worm1","pl__worm2","pl__worm3","worm1","worm2","worm3","controlsContainer","bgColorContainer","lastTitle","__webpack_require__","p","TargetType","settingsSlice","createSlice","name","initialState","bgColor","deckColor","wheelsColor","deckTexture","target","reducers","changeBgColor","state","action","payload","changeDeckColor","changeWheelsColor","changeDeckTexture","changeTarget","actions","TEXTURES","tex1","tex2","tex3","tex4","tex5","COLORS","ControlGroup","_ref","data","handleFunction","children","_ref$textures","textures","_useState","useState","_useState2","Object","slicedToArray","isOpen","setIsOpen","react_default","a","createElement","className","concat","styles","onClick","prev","map","el","key","style","backgroundImage","backgroundColor","id","slice","length","Controls","bgColorValue","setBgColorValue","dispatch","useDispatch","handleDeckColorClick","useCallback","event","handleWheelsColorClick","handleDeckTextureClick","texture","type","value","onInput","ControlGroup_ControlGroup","ROTATE_Y_90","Math","PI","Skate","skate","useLoader","GLTFLoader","skateModel","model","useRef","scene","threeTextures","TextureLoader","normalMap","normalMapTex","metalMap","metalMapTex","deck","nodes","wheels","newMaterial","THREE","metalnessMap","metalness","roughnessMap","roughness","useLayoutEffect","color","material","newWheelsColor","wrapS","wrapT","repeat","set","ref","object","scale","rotation","extend","OrbitControls","Scene","_useThree","useThree","camera","domElement","gl","useEffect","position","y","lookAt","background","Fragment","args","maxDistance","minDistance","intensity","Skate_Skate","CustomLoader","viewBox","width","height","xmlns","x1","y1","x2","y2","offset","stopColor","fill","strokeWidth","strokeLinecap","r","cx","cy","stroke","d","strokeDasharray","strokeDashoffset","visibility","App","useSelector","Controls_Controls","react","fallback","CustomLoader_CustomLoader","react_three_fiber_esm","Scene_Scene","settings","href","reportWebVitals","onPerfEntry","Function","e","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","reducer","settingsReducer","ReactDOM","createRoot","document","getElementById","render","es","App_App"],"mappings":"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","file":"static/js/main.5b7e0844.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"colorsContainer\":\"ControlGroup_colorsContainer__2SuZ4\",\"texturesContainer\":\"ControlGroup_texturesContainer__P0PwU\",\"openBtn\":\"ControlGroup_openBtn__36dGn\",\"openBtnActive\":\"ControlGroup_openBtnActive__3zAKk\",\"controlItem\":\"ControlGroup_controlItem__1cGR_\",\"closedContainer\":\"ControlGroup_closedContainer__2J4EZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__J561a\",\"mainTitle\":\"App_mainTitle__1vcce\",\"mainContainer\":\"App_mainContainer__2FrEr\",\"footer\":\"App_footer__2clAm\",\"canvasContainer\":\"App_canvasContainer__V8FJK\",\"tipBox\":\"App_tipBox__35Bh7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderContainer\":\"CustomLoader_loaderContainer__3qbRF\",\"loaderBody\":\"CustomLoader_loaderBody__1oJFh\",\"pl\":\"CustomLoader_pl__7bQdw\",\"pl__ring\":\"CustomLoader_pl__ring__3bg43\",\"pl__worm1\":\"CustomLoader_pl__worm1__1RJbL\",\"pl__worm2\":\"CustomLoader_pl__worm2__Z96TO\",\"pl__worm3\":\"CustomLoader_pl__worm3__-CtKE\",\"worm1\":\"CustomLoader_worm1__3fbIb\",\"worm2\":\"CustomLoader_worm2__2jMin\",\"worm3\":\"CustomLoader_worm3__MkDqc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controlsContainer\":\"Controls_controlsContainer__3Ognb\",\"bgColorContainer\":\"Controls_bgColorContainer__2M6OM\",\"lastTitle\":\"Controls_lastTitle__ajwTw\"};","module.exports = __webpack_public_path__ + \"static/media/tex1.20a3ea1c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tex2.b317e4bf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tex3.7a086e97.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tex4.5ac24cad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/tex5.aca09de5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/skate.72b3bd60.glb\";","module.exports = __webpack_public_path__ + \"static/media/metalMap.e79c7632.png\";","module.exports = __webpack_public_path__ + \"static/media/normalMap.293d327e.png\";","import { settingsState } from '../store/slices/settingsSlice';\r\n\r\nexport type statePropsType = {\r\n  state: settingsState;\r\n};\r\n\r\nexport enum TargetType {\r\n  deckColor = 'deckColor',\r\n  texture = 'texture',\r\n  bgColor = 'bgColor',\r\n  wheelsColor = 'wheelsColor',\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\nimport type { PayloadAction } from '@reduxjs/toolkit'\r\n\r\nexport interface settingsState {\r\n  bgColor: string,\r\n  deckColor: string,\r\n  wheelsColor: string,\r\n  deckTexture: string,\r\n  target: string\r\n}\r\n\r\nconst initialState: settingsState = {\r\n  bgColor: 'white',\r\n  deckColor: '',\r\n  wheelsColor: '',\r\n  deckTexture: '',\r\n  target: 'deckColor'\r\n}\r\n\r\nexport const settingsSlice = createSlice({\r\n  name: 'color',\r\n  initialState,\r\n  reducers: {\r\n    changeBgColor: (state, action: PayloadAction<string>) => {\r\n      state.bgColor = action.payload\r\n    },\r\n    changeDeckColor: (state, action: PayloadAction<string>) => {\r\n      state.deckColor = action.payload\r\n    },\r\n    changeWheelsColor: (state, action: PayloadAction<string>) => {\r\n      state.wheelsColor = action.payload\r\n    },\r\n    changeDeckTexture: (state, action: PayloadAction<string>) => {\r\n      state.deckTexture = action.payload;\r\n    },\r\n    changeTarget: (state, action: PayloadAction<string>) => {\r\n      state.target = action.payload\r\n    },\r\n  },\r\n})\r\n\r\nexport const { changeBgColor, changeDeckColor, changeDeckTexture, changeTarget, changeWheelsColor } = settingsSlice.actions\r\n\r\nexport default settingsSlice.reducer","import tex1 from '../assets/textures/tex1.jpg';\r\nimport tex2 from '../assets/textures/tex2.jpg';\r\nimport tex3 from '../assets/textures/tex3.jpg';\r\nimport tex4 from '../assets/textures/tex4.jpg';\r\nimport tex5 from '../assets/textures/tex5.jpg';\r\n\r\nexport const TEXTURES = [tex1, tex2, tex3, tex4, tex5];\r\nexport const COLORS = [\r\n  '#808080',\r\n  '#c0c0c0',\r\n  'cornsilk',\r\n  '#ff00ff',\r\n  '#800080',\r\n  '#ff0000',\r\n  '#800000',\r\n  '#ffff00',\r\n  '#808000',\r\n  '#00ff00',\r\n  '#008000',\r\n  '#00ffff',\r\n  '#008080',\r\n  '#0000ff',\r\n  '#000080',\r\n];\r\nexport const TEX_NAME_START_INDEX = 14;\r\nexport const TEX_NAME_END_INDEX = 13;\r\n","import React, { SyntheticEvent, useState } from 'react';\r\nimport { TEX_NAME_END_INDEX, TEX_NAME_START_INDEX } from '../../constants/constants';\r\nimport styles from './ControlGroup.module.css';\r\n\r\ntype propsType = {\r\n  data: string[];\r\n  handleFunction: (event: SyntheticEvent) => void;\r\n  children: JSX.Element;\r\n  textures?: boolean;\r\n};\r\n\r\nexport const ControlGroup = ({ data, handleFunction, children, textures = false }: propsType): JSX.Element => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <li>\r\n      {children}\r\n      <button className={`${styles.openBtn} ${isOpen ? styles.openBtnActive: ''}`} onClick={() => setIsOpen((prev) => !prev)}>\r\n        &gt;\r\n      </button>\r\n      <ul\r\n        className={`${textures ? styles.texturesContainer : styles.colorsContainer} ${\r\n          !isOpen ? styles.closedContainer : ''\r\n        }`}\r\n      >\r\n        {data.map((el) => (\r\n          <li\r\n            key={el}\r\n            style={textures ? { backgroundImage: `url(${el})` } : { backgroundColor: el }}\r\n            className={styles.controlItem}\r\n            onClick={handleFunction}\r\n            id={textures ? el.slice(el.length - TEX_NAME_START_INDEX, el.length - TEX_NAME_END_INDEX) : el}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </li>\r\n  );\r\n};\r\n","import React, { SyntheticEvent, useCallback, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  changeBgColor,\r\n  changeDeckColor,\r\n  changeDeckTexture,\r\n  changeTarget,\r\n  changeWheelsColor,\r\n} from '../../store/slices/settingsSlice';\r\nimport styles from './Controls.module.css';\r\nimport { COLORS, TEXTURES } from '../../constants/constants';\r\nimport { TargetType } from '../../constants/types';\r\nimport { ControlGroup } from '../ControlGroup/ControlGroup';\r\n\r\nexport const Controls = (): JSX.Element => {\r\n  const [bgColorValue, setBgColorValue] = useState('#ffffff');\r\n  const dispatch = useDispatch();\r\n\r\n  const handleDeckColorClick = useCallback(\r\n    (event: SyntheticEvent): void => {\r\n      const target = event.target as HTMLDivElement;\r\n      dispatch(changeDeckColor(target.id));\r\n      dispatch(changeTarget(TargetType.deckColor));\r\n    },\r\n    [changeDeckColor, changeTarget]\r\n  );\r\n\r\n  const handleWheelsColorClick = useCallback(\r\n    (event: SyntheticEvent): void => {\r\n      const target = event.target as HTMLDivElement;\r\n      dispatch(changeWheelsColor(target.id));\r\n      dispatch(changeTarget(TargetType.wheelsColor));\r\n    },\r\n    [changeWheelsColor, changeTarget]\r\n  );\r\n\r\n  const handleDeckTextureClick = useCallback(\r\n    (event: SyntheticEvent): void => {\r\n      const target = event.target as HTMLDivElement;\r\n      dispatch(changeDeckTexture(target.id));\r\n      dispatch(changeTarget(TargetType.texture));\r\n    },\r\n    [changeDeckTexture, changeTarget]\r\n  );\r\n\r\n  const handleBgColorInput = (event: SyntheticEvent) => {\r\n    const target = event.target as HTMLInputElement;\r\n    dispatch(changeBgColor(target.value));\r\n    setBgColorValue(target.value);\r\n    dispatch(changeTarget(TargetType.bgColor));\r\n  };\r\n\r\n  return (\r\n    <ul className={styles.controlsContainer}>\r\n      <li>\r\n        <h5>Background color</h5>\r\n        <div className={styles.bgColorContainer}>\r\n          <input type='color' id='bgColorInput' value={bgColorValue} onInput={handleBgColorInput} />\r\n        </div>\r\n      </li>\r\n      <ControlGroup data={COLORS} handleFunction={handleDeckColorClick}>\r\n        <h5>Deck color</h5>\r\n      </ControlGroup>\r\n      <ControlGroup data={COLORS} handleFunction={handleWheelsColorClick}>\r\n        <h5>Wheels color</h5>\r\n      </ControlGroup>\r\n      <ControlGroup data={TEXTURES} handleFunction={handleDeckTextureClick} textures={true}>\r\n        <h5 className={styles.lastTitle}>Deck print</h5>\r\n      </ControlGroup>\r\n    </ul>\r\n  );\r\n};\r\n","import React, { useRef, useLayoutEffect } from 'react';\r\nimport * as THREE from 'three';\r\nimport { ObjectMap, useLoader } from '@react-three/fiber';\r\nimport skateModel from '../../assets/models/skate.glb';\r\nimport { GLTF, GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { TextureLoader } from 'three';\r\nimport { statePropsType, TargetType } from '../../constants/types';\r\nimport { TEXTURES } from '../../constants/constants';\r\nimport metalMapTex from '../../assets/textures/metalMap.png';\r\nimport normalMapTex from '../../assets/textures/normalMap.png';\r\n\r\nconst ROTATE_Y_90 = Math.PI * 0.5;\r\n\r\nexport const Skate = ({ state }: statePropsType): JSX.Element => {\r\n  const { deckColor, deckTexture, target, wheelsColor } = state;\r\n  const skate = useLoader(GLTFLoader, skateModel) as GLTF & ObjectMap;\r\n  const model = useRef(skate.scene);\r\n  const threeTextures = useLoader(TextureLoader, TEXTURES);\r\n  const normalMap = useLoader(TextureLoader, normalMapTex);\r\n  const metalMap = useLoader(TextureLoader, metalMapTex);\r\n\r\n  const deck = skate.nodes['Rear_Truck_HP_bushing2_Wood_0'] as THREE.Mesh;\r\n  const wheels = skate.nodes['Rear_Truck_HP_bushing2_Wheels_0'] as THREE.Mesh;\r\n\r\n  const newMaterial = new THREE.MeshStandardMaterial({\r\n    normalMap: normalMap,\r\n    metalnessMap: metalMap,\r\n    metalness: 1,\r\n    roughnessMap: metalMap,\r\n    roughness: 1,\r\n  });\r\n\r\n  useLayoutEffect(() => {\r\n    switch (target) {\r\n      case TargetType.deckColor:\r\n        newMaterial.color = new THREE.Color(deckColor);\r\n        deck.material = newMaterial;\r\n        break;\r\n\r\n      case TargetType.wheelsColor:\r\n        const newWheelsColor = new THREE.MeshStandardMaterial({\r\n          color: new THREE.Color(wheelsColor),\r\n        });\r\n        wheels.material = newWheelsColor;\r\n        break;\r\n\r\n      case TargetType.texture:\r\n        const texture = threeTextures[+deckTexture - 1];\r\n        texture.wrapS = THREE.RepeatWrapping;\r\n        texture.wrapT = THREE.RepeatWrapping;\r\n        texture.repeat.set(10, 10);\r\n        newMaterial.map = texture;\r\n        deck.material = newMaterial;\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }, [deckColor, deckTexture, target, wheelsColor]);\r\n\r\n  return <primitive ref={model} object={skate.scene} scale={[1, 1, 1]} rotation={[0, -ROTATE_Y_90, 0]} />;\r\n};\r\n","import * as THREE from 'three';\r\nimport React, { useEffect } from 'react';\r\nimport { extend, Object3DNode, useThree } from '@react-three/fiber';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { Skate } from './Skate/Skate';\r\nimport { statePropsType } from '../constants/types';\r\n\r\nextend({ OrbitControls });\r\n\r\ndeclare global {\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      orbitControls: Object3DNode<OrbitControls, typeof OrbitControls>;\r\n    }\r\n  }\r\n}\r\n\r\nexport const Scene = ({ state }: statePropsType): JSX.Element => {\r\n  const { bgColor } = state;\r\n  const target = new THREE.Vector3(0, 0, 0);\r\n  const {\r\n    scene,\r\n    camera,\r\n    gl: { domElement },\r\n  } = useThree();\r\n\r\n  useEffect(() => {\r\n    camera.position.y = -60;\r\n    camera.lookAt(target);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    scene.background = new THREE.Color(bgColor);\r\n  }, [bgColor]);\r\n\r\n  return (\r\n    <>\r\n      <orbitControls args={[camera, domElement]} target={target} maxDistance={100} minDistance={20} />\r\n      <ambientLight intensity={0.3} />\r\n      <pointLight intensity={0.7} position={[0, -30, 0]} />\r\n      <directionalLight intensity={0.5} position={[0, 10, 0]} />\r\n      <Skate state={state} />\r\n    </>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport styles from './CustomLoader.module.css';\r\n\r\nexport const CustomLoader = (): JSX.Element => {\r\n  return (\r\n    <div className={styles.loaderContainer}>\r\n      <div className={styles.loaderBody}>\r\n        <svg\r\n          className={styles.pl}\r\n          viewBox='0 0 176 160'\r\n          width='176px'\r\n          height='160px'\r\n          xmlns='http://www.w3.org/2000/svg'\r\n        >\r\n          <defs>\r\n            <linearGradient id='pl-grad' x1='0' y1='0' x2='0' y2='1'>\r\n              <stop offset='0%' stopColor='hsl(33,90%,55%)' />\r\n              <stop offset='30%' stopColor='hsl(33,90%,55%)' />\r\n              <stop offset='100%' stopColor='hsl(3,90%,55%)' />\r\n            </linearGradient>\r\n          </defs>\r\n          <g fill='none' strokeWidth='16' strokeLinecap='round'>\r\n            <circle className='pl__ring' r='56' cx='88' cy='96' stroke='hsla(0,10%,10%,0.1)' />\r\n            <path\r\n              className={styles.pl__worm1}\r\n              d='M144,96A56,56,0,0,1,32,96'\r\n              stroke='url(#pl-grad)'\r\n              strokeDasharray='43.98 307.87'\r\n            />\r\n            <path\r\n              className={styles.pl__worm2}\r\n              d='M32,136V96s-.275-25.725,14-40'\r\n              stroke='hsl(33,90%,55%)'\r\n              strokeDasharray='0 40 0 44'\r\n              strokeDashoffset='0.001'\r\n              visibility='hidden'\r\n            />\r\n            <path\r\n              className={styles.pl__worm3}\r\n              d='M144,136V96s.275-25.725-14-40'\r\n              stroke='hsl(33,90%,55%)'\r\n              strokeDasharray='0 40 0 44'\r\n              strokeDashoffset='0.001'\r\n              visibility='hidden'\r\n            />\r\n          </g>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { Suspense } from 'react';\r\nimport { Controls } from '../components/Controls/Controls';\r\nimport { Canvas } from '@react-three/fiber';\r\nimport styles from './App.module.css';\r\nimport { Scene } from '../components/Scene';\r\nimport { useSelector } from 'react-redux';\r\nimport { RootState } from '../store/store';\r\nimport { CustomLoader } from '../components/CustomLoader/CustomLoader';\r\n\r\nexport const App = (): JSX.Element => {\r\n  const state = useSelector((state: RootState) => state);\r\n\r\n  return (\r\n    <>\r\n      <header className={styles.header}>\r\n        <h2 className={styles.mainTitle}>Skateboard 3d configurator</h2>\r\n      </header>\r\n      <main className={styles.mainContainer}>\r\n        <Controls />\r\n        <section className={styles.canvasContainer}>\r\n          <Suspense fallback={<CustomLoader />}>\r\n            <Canvas>\r\n              <Scene state={state.settings} />\r\n            </Canvas>\r\n            <div className={styles.tipBox}>\r\n              <span>Scroll to zoom in</span>\r\n              <span>Click and drag to rotate</span>\r\n            </div>\r\n          </Suspense>\r\n        </section>\r\n      </main>\r\n      <footer className={styles.footer}>\r\n        <a href='https://github.com/Vadosdavos'>@Vadosdavos</a>, 2022\r\n      </footer>\r\n    </>\r\n  );\r\n};\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport settingsReducer from './slices/settingsSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    settings: settingsReducer,\r\n  },\r\n});\r\n\r\n// Infer the `RootState` and `AppDispatch` types from the store itself\r\nexport type RootState = ReturnType<typeof store.getState>;\r\n// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}\r\nexport type AppDispatch = typeof store.dispatch;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { Provider } from 'react-redux';\r\nimport { App } from './app/App';\r\nimport './index.css';\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from './store/store';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root')!);\r\nroot.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}